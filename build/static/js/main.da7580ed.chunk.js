(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{18:function(e,t,n){e.exports={table:"UsersListComponent_table__3co48"}},2:function(e,t,n){e.exports={pagination:"PaginationComponent_pagination__2eU8n",page:"PaginationComponent_page__wRUY0",selected:"PaginationComponent_selected__jjtOl",delete:"PaginationComponent_delete__knqx2",paginationContainer:"PaginationComponent_paginationContainer__3MtkO",disabled:"PaginationComponent_disabled__cpy_y"}},23:function(e,t,n){},24:function(e,t,n){},4:function(e,t,n){e.exports={icons:"UserComponent_icons__leBUU",readOnly:"UserComponent_readOnly__2ORhF",selected:"UserComponent_selected__VCdIM"}},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(17),i=n.n(s),r=(n(23),n(5)),l=(n(24),{PAGE_SIZE:10}),o=l,u=n(2),d=n.n(u),f=n(0),j=function(e){var t,n=e.usersLength,c=e.setPage,a=e.page,s=e.deleteSelected,i=(t=n,Math.ceil(t/10)),r=function(e){c(e)},l=function(e){e<1?e=1:e>i&&(e=i),c(e)},o=[];o.push(Object(f.jsx)("div",{className:"".concat(d.a.page," ").concat(1===a?d.a.disabled:""),onClick:function(){return r(1)},children:Object(f.jsx)("i",{className:"fas fa-angle-double-left"})},-3)),o.push(Object(f.jsx)("div",{className:"".concat(d.a.page," ").concat(1===a?d.a.disabled:""),onClick:function(){return l(a-1)},children:Object(f.jsx)("i",{className:"fas fa-angle-left"})},-2));for(var u=function(e){o.push(Object(f.jsx)("div",{onClick:function(){return r(e)},className:"".concat(d.a.page," ").concat(a===e?d.a.selected:""),children:e},e))},j=1;j<=i;j++)u(j);return o.push(Object(f.jsx)("div",{className:"".concat(d.a.page," ").concat(a===i?d.a.disabled:""),onClick:function(){return l(a+1)},children:Object(f.jsx)("i",{className:"fas fa-angle-right"})},-1)),o.push(Object(f.jsx)("div",{className:"".concat(d.a.page," ").concat(a===i?d.a.disabled:""),onClick:function(){return r(i)},children:Object(f.jsx)("i",{className:"fas fa-angle-double-right"})},0)),Object(f.jsxs)("div",{className:d.a.paginationContainer,children:[Object(f.jsx)("button",{className:d.a.delete,onClick:function(){return s()},children:"Delete Selected"}),Object(f.jsx)("div",{className:d.a.pagination,children:o})]})},b=n(4),h=n.n(b),O=function(e){var t=e.user,n=e.deleteUser,a=e.editUser,s=e.saveUser,i=e.selectOne,r=Object(c.useRef)(null),l=Object(c.useRef)(null),o=Object(c.useRef)(null);return Object(f.jsxs)("tr",{className:t.selected?h.a.selected:"",children:[Object(f.jsx)("td",{children:Object(f.jsx)("label",{for:"check-".concat(t.id),children:Object(f.jsx)("input",{id:"check-".concat(t.id),type:"checkbox",data:"".concat(t.selected),onChange:function(){return i(t.id)},checked:t.selected})})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{className:t.edit?h.a.editable:h.a.readOnly,readOnly:!t.edit,type:"text",ref:r,name:"name",defaultValue:t.name})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{className:t.edit?h.a.editable:h.a.readOnly,readOnly:!t.edit,type:"email",ref:l,name:"email",defaultValue:t.email})}),Object(f.jsx)("td",{children:Object(f.jsx)("input",{className:t.edit?h.a.editable:h.a.readOnly,readOnly:!t.edit,type:"text",ref:o,name:"role",defaultValue:t.role})}),Object(f.jsxs)("td",{className:h.a.icons,children:[t.edit?Object(f.jsx)("i",{onClick:function(){return s(t.id,r,l,o)},className:"fas fa-save"}):Object(f.jsx)("i",{onClick:function(){return a(t.id)},className:"fas fa-edit"}),Object(f.jsx)("i",{onClick:function(){return n(t.id)},className:"fas fa-trash-alt"})]})]},t.id)},m=n(18),p=n.n(m),x=function(e){var t=e.users,n=e.deleteUser,a=e.editUser,s=e.saveUser,i=e.selectAll,r=e.selectOne,l=e.selectAllRef,u=e.setPage,d=e.page;Object(c.useEffect)((function(){0===t.length&&d>1&&u(d-1)}),[d,u,t.length]);for(var j=[],b=t.filter((function(e){return e.show})).length;b<o.PAGE_SIZE;b++)j.push(Object(f.jsx)("tr",{},b));return 0===t.length&&1===d?Object(f.jsx)("div",{children:"NO USERS IN THE SYSTEM"}):Object(f.jsxs)("table",{className:p.a.table,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:Object(f.jsx)("input",{type:"checkbox",ref:l,onChange:function(e){i(e)},name:"selectAll"})}),Object(f.jsx)("th",{children:"Name"}),Object(f.jsx)("th",{children:"Email"}),Object(f.jsx)("th",{children:"Role"}),Object(f.jsx)("th",{children:"Action"})]})}),Object(f.jsxs)("tbody",{children:[t.map((function(e){return e.show?Object(f.jsx)(O,{selectOne:r,saveUser:s,editUser:a,deleteUser:n,user:e},e.id):""})),j]})]})},g=n(8),_=n.n(g),v=function(e){return e.map((function(e){return e.selected=!1,e.edit=!1,e.show=!0,e}))},C=function(e){_.a.get("./members.json").then((function(t){e(v(t.data))})).catch((function(e){return console.error(e)}))};var N=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)(1),b=Object(r.a)(d,2),h=b[0],O=b[1],m=Object(c.useRef)(null);Object(c.useEffect)((function(){!function(e){_.a.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(t){e(v(t.data))})).catch((function(t){return C(e)}))}(a)}),[]);var p=function(e){return(e-1)*o.PAGE_SIZE}(h);return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("input",{className:"search",type:"text",placeholder:"Search by name, email or role",onChange:function(e){O(1),a(function(e,t){var n=e.toLowerCase();return t.map((function(e){return e.name.toLowerCase().includes(n)||e.email.toLowerCase().includes(n)||e.role.toLowerCase().includes(n)?(e.show=!0,e):(e.show=!1,e)}))}(e.target.value,n))}}),Object(f.jsx)(x,{page:h,setPage:O,selectAll:function(e){var t=n.filter((function(e){return e.show})).slice(p,p+o.PAGE_SIZE).map((function(e){return e.id})),c=n.map((function(n){return t.includes(n.id)?(n.selected=e.target.checked,n):n}));a(c),u(!l)},selectAllRef:m,selectOne:function(e){var t=n,c=t.findIndex((function(t){return t.id===e}));t[c].selected=!t[c].selected,a(t),u((function(e){return!e}))},saveUser:function(e,t,c,s){var i=n,r=i.findIndex((function(t){return t.id===e}));i[r].name=t.current.value,i[r].email=c.current.value,i[r].role=s.current.value,i[r].edit=!1,a(i),u((function(e){return!e}))},editUser:function(e){var t=n,c=t.findIndex((function(t){return t.id===e}));t[c].edit=!0,a(t),u((function(e){return!e}))},deleteUser:function(e){var t=n.filter((function(t){return t.id!==e}));a(t),u((function(e){return!e}))},users:n.filter((function(e){return e.show})).slice(p,p+o.PAGE_SIZE)}),Object(f.jsx)(j,{usersLength:n.filter((function(e){return e.show})).length,page:h,setPage:O,deleteSelected:function(){window.confirm("Selected users will be deleted")&&(a((function(e){return e.filter((function(e){return!e.selected}))})),m.current.checked=!1)}})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root")),k()}},[[45,1,2]]]);
//# sourceMappingURL=main.da7580ed.chunk.js.map